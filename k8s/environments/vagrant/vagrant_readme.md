vagrant ssh control-plane1 --command "kubectl get nodes"


From the logs, I notice:
1. Guest Additions mismatch warning (VirtualBox 7.0 vs VM's 6.1.50) - this is generally harmless unless you need advanced shared folder features
2. Control plane initialization showed a sandbox image warning (pause:3.8 instead of 3.9) - you may want to verify container runtime compatibility

The nodes worker1 and worker2 successfully joined the cluster. Let me know if you want to check any specific component's status or address the compatibility warnings.


   worker1: This node has joined the cluster:
    worker1: * Certificate signing request was sent to apiserver and a response was received.
    worker1: * The Kubelet was informed of the new secure connection details.
    worker1: 
    worker1: Run 'kubectl get nodes' on the control-plane to see this node join the cluster.
    worker1: 
==> worker2: Importing base box 'ubuntu/focal64'...
==> worker2: Matching MAC address for NAT networking...
==> worker2: Checking if box 'ubuntu/focal64' version '20240821.0.1' is up to date...
==> worker2: Setting the name of the VM: worker2
==> worker2: Fixed port collision for 22 => 2222. Now on port 2201.
==> worker2: Clearing any previously set network interfaces...
==> worker2: Preparing network interfaces based on configuration...
    worker2: Adapter 1: nat
    worker2: Adapter 2: hostonly
==> worker2: Forwarding ports...
    worker2: 22 (guest) => 2201 (host) (adapter 1)
==> worker2: Running 'pre-boot' VM customizations...
==> worker2: Booting VM...
==> worker2: Waiting for machine to boot. This may take a few minutes...
    worker2: SSH address: 127.0.0.1:2201
    worker2: SSH username: vagrant
    worker2: SSH auth method: private key
    worker2: Warning: Connection reset. Retrying...
    worker2: Warning: Connection aborted. Retrying...
    worker2: Warning: Remote connection disconnect. Retrying...
    worker2: Warning: Connection aborted. Retrying...
    worker2: 
    worker2: Vagrant insecure key detected. Vagrant will automatically replace
    worker2: this with a newly generated keypair for better security.
    worker2: 
    worker2: Inserting generated public key within guest...
    worker2: Removing insecure key from the guest if it's present...
    worker2: Key inserted! Disconnecting and reconnecting using new SSH key...
==> worker2: Machine booted and ready!
==> worker2: Checking for guest additions in VM...
    worker2: The guest additions on this VM do not match the installed version of
    worker2: VirtualBox! In most cases this is fine, but in rare cases it can
    worker2: prevent things such as shared folders from working properly. If you see
    worker2: shared folder errors, please make sure the guest additions within the
    worker2: virtual machine match the version of VirtualBox you have installed on
    worker2: your host and reload your VM.
    worker2: 
    worker2: Guest Additions Version: 6.1.50
    worker2: VirtualBox Version: 7.0
==> worker2: Setting hostname...
==> worker2: Configuring and enabling network interfaces...
==> worker2: Mounting shared folders...
    worker2: D:/egov/ms_edu_kube/k8s/environments/vagrant => /vagrant
==> worker2: [vagrant-hostmanager:guests] Updating hosts file on active guest virtual machines...
==> worker2: [vagrant-hostmanager:host] Updating hosts file on your workstation (password may be required)...
==> worker2: Running provisioner: shell...
    worker2: Running: inline script
    worker2: Get:1 http://mirror.kakao.com/ubuntu focal InRelease [265 kB]


    worker2:   ifupdown aufs-tools cgroupfs-mount | cgroup-lite debootstrap docker-buildx
    worker2:   docker-compose-v2 docker-doc rinse zfs-fuse | zfsutils
    worker2: The following NEW packages will be installed:
    worker2:   bridge-utils containerd dns-root-data dnsmasq-base docker.io libidn11 pigz
    worker2:   runc ubuntu-fan
    worker2: 0 upgraded, 9 newly installed, 0 to remove and 14 not upgraded.
    worker2: Need to get 71.6 MB of archives.
    worker2: After this operation, 301 MB of additional disk space will be used.
    worker2: Get:1 http://mirror.kakao.com/ubuntu focal/universe amd64 pigz amd64 2.4-1 [57.4 kB]
    worker2: Get:2 http://mirror.kakao.com/ubuntu focal/main amd64 bridge-utils amd64 1.6-2ubuntu1 [30.5 kB]
    worker2: Get:3 http://mirror.kakao.com/ubuntu focal-updates/main amd64 runc amd64 1.1.12-0ubuntu2~20.04.1 [8066 kB]
    worker2: Get:4 http://mirror.kakao.com/ubuntu focal-updates/main amd64 containerd amd64 1.7.24-0ubuntu1~20.04.1 [33.6 MB]
    worker2: Get:5 http://mirror.kakao.com/ubuntu focal-updates/main amd64 dns-root-data all 2024071801~ubuntu0.20.04.1 [6128 B]
    worker2: Get:6 http://mirror.kakao.com/ubuntu focal/main amd64 libidn11 amd64 1.33-2.2ubuntu2 [46.2 kB]
    worker2: Get:7 http://mirror.kakao.com/ubuntu focal-updates/main amd64 dnsmasq-base amd64 2.90-0ubuntu0.20.04.1 [350 kB]
    worker2: Get:8 http://mirror.kakao.com/ubuntu focal-updates/universe amd64 docker.io amd64 26.1.3-0ubuntu1~20.04.1 [29.5 MB]
    worker2: Get:9 http://mirror.kakao.com/ubuntu focal-updates/main amd64 ubuntu-fan all 0.12.13ubuntu0.1 [34.4 kB]
    worker2: Preconfiguring packages ...
    worker2: Fetched 71.6 MB in 4s (17.4 MB/s)
    worker2: Selecting previously unselected package pigz.
(Reading database ... 63893 files and directories currently installed.)
    worker2: Preparing to unpack .../0-pigz_2.4-1_amd64.deb ...
    worker2: Unpacking pigz (2.4-1) ...
    worker2: Selecting previously unselected package bridge-utils.
    worker2: Preparing to unpack .../1-bridge-utils_1.6-2ubuntu1_amd64.deb ...
    worker2: Unpacking bridge-utils (1.6-2ubuntu1) ...
    worker2: Selecting previously unselected package runc.
    worker2: Preparing to unpack .../2-runc_1.1.12-0ubuntu2~20.04.1_amd64.deb ...
    worker2: Unpacking runc (1.1.12-0ubuntu2~20.04.1) ...
    worker2: Selecting previously unselected package containerd.
    worker2: Preparing to unpack .../3-containerd_1.7.24-0ubuntu1~20.04.1_amd64.deb ...
    worker2: Unpacking containerd (1.7.24-0ubuntu1~20.04.1) ...
    worker2: Selecting previously unselected package dns-root-data.
    worker2: Preparing to unpack .../4-dns-root-data_2024071801~ubuntu0.20.04.1_all.deb ...
    worker2: Unpacking dns-root-data (2024071801~ubuntu0.20.04.1) ...
    worker2: Selecting previously unselected package libidn11:amd64.
    worker2: Preparing to unpack .../5-libidn11_1.33-2.2ubuntu2_amd64.deb ...
    worker2: Unpacking libidn11:amd64 (1.33-2.2ubuntu2) ...
    worker2: Selecting previously unselected package dnsmasq-base.
    worker2: Preparing to unpack .../6-dnsmasq-base_2.90-0ubuntu0.20.04.1_amd64.deb ...
    worker2: Unpacking dnsmasq-base (2.90-0ubuntu0.20.04.1) ...
    worker2: Selecting previously unselected package docker.io.
    worker2: Preparing to unpack .../7-docker.io_26.1.3-0ubuntu1~20.04.1_amd64.deb ...
    worker2: Unpacking docker.io (26.1.3-0ubuntu1~20.04.1) ...
    worker2: Selecting previously unselected package ubuntu-fan.
    worker2: Preparing to unpack .../8-ubuntu-fan_0.12.13ubuntu0.1_all.deb ...
    worker2: Unpacking ubuntu-fan (0.12.13ubuntu0.1) ...
    worker2: Setting up runc (1.1.12-0ubuntu2~20.04.1) ...
    worker2: Setting up dns-root-data (2024071801~ubuntu0.20.04.1) ...
    worker2: Setting up libidn11:amd64 (1.33-2.2ubuntu2) ...
    worker2: Setting up bridge-utils (1.6-2ubuntu1) ...
    worker2: Setting up pigz (2.4-1) ...
    worker2: Setting up containerd (1.7.24-0ubuntu1~20.04.1) ...
    worker2: Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /lib/systemd/system/containerd.service.
    worker2: Setting up docker.io (26.1.3-0ubuntu1~20.04.1) ...
    worker2: Adding group `docker' (GID 121) ...
    worker2: Done.
    worker2: Created symlink /etc/systemd/system/multi-user.target.wants/docker.service → /lib/systemd/system/docker.service.
    worker2: Created symlink /etc/systemd/system/sockets.target.wants/docker.socket → /lib/systemd/system/docker.socket.
    worker2: Setting up dnsmasq-base (2.90-0ubuntu0.20.04.1) ...
    worker2: Setting up ubuntu-fan (0.12.13ubuntu0.1) ...
    worker2: Created symlink /etc/systemd/system/multi-user.target.wants/ubuntu-fan.service → /lib/systemd/system/ubuntu-fan.service.
    worker2: Processing triggers for systemd (245.4-4ubuntu3.24) ...
    worker2: Processing triggers for man-db (2.9.1-1) ...
    worker2: Processing triggers for dbus (1.12.16-2ubuntu2.3) ...
    worker2: Processing triggers for libc-bin (2.31-0ubuntu9.17) ...
    worker2: {
    worker2:   "exec-opts": ["native.cgroupdriver=systemd"],
    worker2:   "log-driver": "json-file",
    worker2:   "log-opts": {
    worker2:     "max-size": "100m"
    worker2:   },
    worker2:   "storage-driver": "overlay2"
    worker2: }
    worker2: deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.29/deb/ /
    worker2: Hit:1 http://mirror.kakao.com/ubuntu focal InRelease
    worker2: Hit:2 http://mirror.kakao.com/ubuntu focal-updates InRelease
    worker2: Hit:3 http://mirror.kakao.com/ubuntu focal-backports InRelease
    worker2: Hit:4 http://mirror.kakao.com/ubuntu focal-security InRelease
    worker2: Get:5 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.29/deb  InRelease [1192 B]
    worker2: Get:6 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.29/deb  Packages [21.3 kB]
    worker2: Fetched 22.5 kB in 1s (30.3 kB/s)
    worker2: Reading package lists...
    worker2: kubelet was already not hold.
    worker2: kubeadm was already not hold.
    worker2: kubectl was already not hold.
    worker2: Reading package lists...
    worker2: Building dependency tree...
    worker2: Reading state information...
    worker2: The following additional packages will be installed:
    worker2:   conntrack cri-tools kubernetes-cni
    worker2: Suggested packages:
    worker2:   nftables
    worker2: The following NEW packages will be installed:
    worker2:   conntrack cri-tools kubeadm kubectl kubelet kubernetes-cni
    worker2: 0 upgraded, 6 newly installed, 0 to remove and 14 not upgraded.
    worker2: Need to get 92.6 MB of archives.
    worker2: After this operation, 347 MB of additional disk space will be used.
    worker2: Get:1 http://mirror.kakao.com/ubuntu focal/main amd64 conntrack amd64 1:1.4.5-2 [30.3 kB]
    worker2: Get:2 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.29/deb  cri-tools 1.29.0-1.1 [20.1 MB]
    worker2: Get:3 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.29/deb  kubernetes-cni 1.3.0-1.1 [31.4 MB]
    worker2: Get:4 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.29/deb  kubelet 1.29.15-1.1 [20.0 MB]
    worker2: Get:5 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.29/deb  kubectl 1.29.15-1.1 [10.7 MB]
    worker2: Get:6 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.29/deb  kubeadm 1.29.15-1.1 [10.3 MB]
    worker2: Fetched 92.6 MB in 3s (32.6 MB/s)
    worker2: Selecting previously unselected package conntrack.
(Reading database ... 64262 files and directories currently installed.)
    worker2: Preparing to unpack .../0-conntrack_1%3a1.4.5-2_amd64.deb ...
    worker2: Unpacking conntrack (1:1.4.5-2) ...
    worker2: Selecting previously unselected package cri-tools.
    worker2: Preparing to unpack .../1-cri-tools_1.29.0-1.1_amd64.deb ...
    worker2: Unpacking cri-tools (1.29.0-1.1) ...
    worker2: Selecting previously unselected package kubernetes-cni.
    worker2: Preparing to unpack .../2-kubernetes-cni_1.3.0-1.1_amd64.deb ...
    worker2: Unpacking kubernetes-cni (1.3.0-1.1) ...
    worker2: Selecting previously unselected package kubelet.
    worker2: Preparing to unpack .../3-kubelet_1.29.15-1.1_amd64.deb ...
    worker2: Unpacking kubelet (1.29.15-1.1) ...
    worker2: Selecting previously unselected package kubectl.
    worker2: Preparing to unpack .../4-kubectl_1.29.15-1.1_amd64.deb ...
    worker2: Unpacking kubectl (1.29.15-1.1) ...
    worker2: Selecting previously unselected package kubeadm.
    worker2: Preparing to unpack .../5-kubeadm_1.29.15-1.1_amd64.deb ...
    worker2: Unpacking kubeadm (1.29.15-1.1) ...
    worker2: Setting up conntrack (1:1.4.5-2) ...
    worker2: Setting up kubectl (1.29.15-1.1) ...
    worker2: Setting up cri-tools (1.29.0-1.1) ...
    worker2: Setting up kubernetes-cni (1.3.0-1.1) ...
    worker2: Setting up kubelet (1.29.15-1.1) ...
    worker2: Setting up kubeadm (1.29.15-1.1) ...
    worker2: Processing triggers for man-db (2.9.1-1) ...
    worker2: kubelet set on hold.
    worker2: kubeadm set on hold.
    worker2: kubectl set on hold.
    worker2: kubeadm version: &version.Info{Major:"1", Minor:"29", GitVersion:"v1.29.15", GitCommit:"0d0f172cdf9fd42d6feee3467374b58d3e168df0", GitTreeState:"clean", BuildDate:"2025-03-11T17:46:36Z", GoVersion:"go1.23.6", Compiler:"gc", Platform:"linux/amd64"}
    worker2: Client Version: v1.29.15
    worker2: Kustomize Version: v5.0.4-0.20230601165947-6ce0bf390ce3
==> worker2: Running provisioner: shell...
    worker2: Running: inline script
    worker2: [preflight] Running pre-flight checks
    worker2: [preflight] Reading configuration from the cluster...
    worker2: [preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'
    worker2: [kubelet-start] Writing kubelet configuration to file "/var/lib/kubelet/config.yaml"
    worker2: [kubelet-start] Writing kubelet environment file with flags to file "/var/lib/kubelet/kubeadm-flags.env"
    worker2: [kubelet-start] Starting the kubelet
    worker2: [kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...
    worker2: 
    worker2: This node has joined the cluster:
    worker2: * Certificate signing request was sent to apiserver and a response was received.
    worker2: * The Kubelet was informed of the new secure connection details.
    worker2: 
    worker2: Run 'kubectl get nodes' on the control-plane to see this node join the cluster.
    worker2: 